{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\User\\\\Desktop\\\\SiteMeeting\\\\MeetingWebsite\\\\MeetingWebsite\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\User\\\\Desktop\\\\SiteMeeting\\\\MeetingWebsite\\\\MeetingWebsite\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\User\\\\Desktop\\\\SiteMeeting\\\\MeetingWebsite\\\\MeetingWebsite\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\User\\\\Desktop\\\\SiteMeeting\\\\MeetingWebsite\\\\MeetingWebsite\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\User\\\\Desktop\\\\SiteMeeting\\\\MeetingWebsite\\\\MeetingWebsite\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\User\\\\Desktop\\\\SiteMeeting\\\\MeetingWebsite\\\\MeetingWebsite\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\SiteMeeting\\\\MeetingWebsite\\\\MeetingWebsite\\\\Frontend\\\\src\\\\components\\\\pages\\\\login\\\\Login.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Card, CardBody, CardFooter, CardGroup, Col, Container, Form, Input, InputGroup, InputGroupAddon, InputGroupText, Row } from 'reactstrap';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { connect } from \"react-redux\";\nimport * as loginActions from './reducer';\nimport get from \"lodash.get\";\nimport EclipseWidget from '../../eclipse';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      email: '',\n      password: '',\n      profileUrl: '',\n      errors: {},\n      done: false,\n      isLoading: false,\n      visible: false,\n      errorsServer: {}\n    };\n\n    _this.passwordVisible = function (e) {\n      _this.setState({\n        visible: !_this.state.visible\n      });\n    };\n\n    _this.setStateByErrors = function (name, value) {\n      if (!!_this.state.errors[name]) {\n        var _this$setState;\n\n        var errors = Object.assign({}, _this.state.errors);\n        delete errors[name];\n\n        _this.setState((_this$setState = {}, _defineProperty(_this$setState, name, value), _defineProperty(_this$setState, \"errors\", errors), _this$setState));\n      } else {\n        _this.setState(_defineProperty({}, name, value));\n      }\n    };\n\n    _this.handleChange = function (e) {\n      _this.setStateByErrors(e.target.name, e.target.value);\n    };\n\n    _this.onSubmitForm = function (e) {\n      e.preventDefault();\n      var _this$state = _this.state,\n          email = _this$state.email,\n          password = _this$state.password,\n          errorsServer = _this$state.errorsServer;\n      var errors = {};\n      var regex_password = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s).{6,24}$/;\n      var regex_email = /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/;\n      if (!regex_email.test(email)) errors.email = \"Не правильний формат електронної пошти!\";\n      if (email === \"\") errors.email = \"Поле не може бути пустим!\";\n      if (!regex_password.test(password)) errors.password = \"Пароль повинен мати мінімум 6 символів на латиниці, нижній і верхній регістр, та цифри!\";\n      if (password === \"\") errors.password = \"Поле не може бути пустим!\";\n      var isValid = Object.keys(errors).length === 0;\n\n      if (isValid) {\n        _this.setState({\n          isLoading: true\n        });\n\n        var model = {\n          email: email,\n          password: password\n        };\n\n        _this.props.login(model);\n      } else {\n        _this.setState({\n          errors: errors\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          errors = _this$state2.errors,\n          isLoading = _this$state2.isLoading,\n          profileUrl = _this$state2.profileUrl,\n          visible = _this$state2.visible,\n          errorsServer = _this$state2.errorsServer;\n      return React.createElement(\"div\", {\n        className: \"app flex-row align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"justify-content-center pt-5 mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(CardGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"p-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.onSubmitForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, !!errorsServer.invalid ? React.createElement(\"div\", {\n        className: \"alert alert-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, errorsServer.invalid, \".\") : \"\", React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"\\u0412\\u0445\\u0456\\u0434\"), React.createElement(\"p\", {\n        className: \"text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"\\u0423\\u0432\\u0456\\u0439\\u0434\\u0456\\u0442\\u044C \\u0434\\u043E \\u0441\\u0432\\u043E\\u0433\\u043E \\u043E\\u0431\\u043B\\u0456\\u043A\\u043E\\u0432\\u043E\\u0433\\u043E \\u0437\\u0430\\u043F\\u0438\\u0441\\u0443\"), React.createElement(InputGroup, {\n        className: \"mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(InputGroupAddon, {\n        addonType: \"prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(InputGroupText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-at\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }))), React.createElement(Input, {\n        type: \"email\",\n        placeholder: \"\\u0415\\u043B\\u0435\\u043A\\u0442\\u0440\\u043E\\u043D\\u043D\\u0430 \\u043F\\u043E\\u0448\\u0442\\u0430\",\n        autoComplete: \"on\",\n        className: classnames(\"form-control\", {\n          \"is-invalid\": !!errors.email\n        }),\n        id: \"email\",\n        name: \"email\",\n        value: this.state.email,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), !!errors.email ? React.createElement(\"div\", {\n        className: \"invalid-feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, errors.email) : \"\"), React.createElement(InputGroup, {\n        className: \"mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(InputGroupAddon, {\n        addonType: \"prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(InputGroupText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-lock\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }))), React.createElement(Input, {\n        className: classnames('form-control', {\n          'is-invalid': !!errors.password\n        }),\n        type: classnames(visible ? \"text\" : \"password\"),\n        id: \"password\",\n        name: \"password\",\n        placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n        autoComplete: \"current-password\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), !!errors.password ? React.createElement(\"div\", {\n        className: \"invalid-feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, errors.password) : ''), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"success\",\n        className: \"px-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"\\u0412\\u0445\\u0456\\u0434\")), React.createElement(Col, {\n        xs: \"6\",\n        className: \"text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"link\",\n        className: \"px-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"\\u0417\\u0430\\u0431\\u0443\\u043B\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C?\")))))), React.createElement(Card, {\n        className: \"text-white py-5 d-md-down-none my-gradient\",\n        style: {\n          width: '44%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(CardBody, {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Sign up\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\"), React.createElement(Link, {\n        to: \"/register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"success\",\n        className: \"mt-3\",\n        active: true,\n        tabIndex: -1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Register Now!\"))))))))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      return {\n        isLoading: nextProps.loading,\n        errorsServer: nextProps.errors\n      };\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nLogin.propTypes = {\n  login: PropTypes.func.isRequired\n};\n\nfunction mapStateToProps(state) {\n  return {\n    loading: get(state, 'login.post.loading'),\n    failed: get(state, 'login.post.failed'),\n    success: get(state, 'login.post.success'),\n    errors: get(state, 'login.post.errors')\n  };\n}\n\nvar mapDispatch = {\n  login: function login(model, history) {\n    return loginActions.login(model, history);\n  }\n};\nexport default connect(mapStateToProps, mapDispatch)(Login);","map":{"version":3,"sources":["C:/Users/User/Desktop/SiteMeeting/MeetingWebsite/MeetingWebsite/Frontend/src/components/pages/login/Login.js"],"names":["React","Component","Link","Button","Card","CardBody","CardFooter","CardGroup","Col","Container","Form","Input","InputGroup","InputGroupAddon","InputGroupText","Row","classnames","PropTypes","connect","loginActions","get","EclipseWidget","Login","state","email","password","profileUrl","errors","done","isLoading","visible","errorsServer","passwordVisible","e","setState","setStateByErrors","name","value","Object","assign","handleChange","target","onSubmitForm","preventDefault","regex_password","regex_email","test","isValid","keys","length","model","props","login","invalid","width","nextProps","prevState","loading","propTypes","func","isRequired","mapStateToProps","failed","success","mapDispatch","history"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button, Card, CardBody, CardFooter, CardGroup,\r\n         Col, Container, Form, Input, InputGroup,\r\n         InputGroupAddon, InputGroupText, Row } from 'reactstrap';\r\nimport classnames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from \"react-redux\";\r\nimport * as loginActions from './reducer';\r\nimport get from \"lodash.get\";\r\n\r\nimport EclipseWidget from '../../eclipse';\r\nclass Login extends Component {\r\n  state = {\r\n    email: '',\r\n    password: '',\r\n    profileUrl: '',\r\n    errors: {},\r\n    done: false,\r\n    isLoading: false,\r\n    visible: false,\r\n    errorsServer: {}\r\n  }\r\n  passwordVisible = (e)=>{\r\n    this.setState({\r\n      visible: !this.state.visible,\r\n    });\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n\r\n    return { isLoading: nextProps.loading, errorsServer: nextProps.errors };\r\n}\r\n\r\n  setStateByErrors = (name, value) => {\r\n    if (!!this.state.errors[name]) {\r\n      let errors = Object.assign({}, this.state.errors);\r\n      delete errors[name];\r\n      this.setState(\r\n        {\r\n          [name]: value,\r\n          errors\r\n        }\r\n      )\r\n    }\r\n    else {\r\n      this.setState(\r\n        { [name]: value })\r\n    }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setStateByErrors(e.target.name, e.target.value);\r\n\r\n  }\r\n  onSubmitForm = (e) => {\r\n    e.preventDefault();\r\n    const { email, password, errorsServer } = this.state;   \r\n\r\n    let errors = {};\r\n    const regex_password = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s).{6,24}$/;\r\n    const regex_email = /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/;\r\n\r\n    if (!regex_email.test(email)) errors.email = \"Не правильний формат електронної пошти!\";\r\n    if (email === \"\") errors.email = \"Поле не може бути пустим!\";\r\n\r\n    if (!regex_password.test(password)) errors.password = \"Пароль повинен мати мінімум 6 символів на латиниці, нижній і верхній регістр, та цифри!\";\r\n    if (password === \"\") errors.password = \"Поле не може бути пустим!\";\r\n\r\n    const isValid = Object.keys(errors).length === 0\r\n    if (isValid) {\r\n      this.setState({ isLoading: true });\r\n      const model = {\r\n        email: email,\r\n        password: password\r\n        };\r\n\r\n      this.props.login(model);      \r\n    }\r\n    else {\r\n      this.setState({ errors });\r\n    }\r\n  }\r\n  render() {\r\n    const { errors, isLoading, profileUrl, visible, errorsServer } = this.state;\r\n    return (\r\n      <div className=\"app flex-row align-items-center\">\r\n        <Container>\r\n          <Row className=\"justify-content-center pt-5 mt-5\">\r\n            <Col md=\"8\">\r\n              <CardGroup>\r\n                <Card className=\"p-4\">\r\n                  <CardBody>\r\n                  <Form onSubmit={this.onSubmitForm}>\r\n                      {!!errorsServer.invalid ?\r\n                          <div className=\"alert alert-danger\">\r\n                              {errorsServer.invalid}.\r\n                          </div> : \"\"}\r\n                      <h1>Вхід</h1>\r\n                      <p className=\"text-muted\">Увійдіть до свого облікового запису</p>\r\n                      <InputGroup className=\"mb-3\">\r\n                        <InputGroupAddon addonType=\"prepend\">\r\n                        <InputGroupText>\r\n                        <i className=\"fas fa-at\"></i>\r\n                        </InputGroupText>\r\n                        </InputGroupAddon>                     \r\n                        <Input type=\"email\" placeholder=\"Електронна пошта\" autoComplete=\"on\"\r\n                        className={classnames(\"form-control\", { \"is-invalid\": !!errors.email })}\r\n                        id=\"email\"\r\n                        name=\"email\"\r\n                        value={this.state.email}\r\n                        onChange={this.handleChange} />\r\n                      {!!errors.email ? <div className=\"invalid-feedback\">{errors.email}</div> : \"\"}\r\n                      </InputGroup>\r\n\r\n                      <InputGroup className=\"mb-4\">\r\n                        <InputGroupAddon addonType=\"prepend\">\r\n                          <InputGroupText>\r\n                            <i className=\"fa fa-lock\"></i>\r\n                          </InputGroupText>\r\n                        </InputGroupAddon>\r\n                        <Input className={classnames('form-control', { 'is-invalid': !!errors.password })}\r\n                          type={classnames(visible ? \"text\" : \"password\")}\r\n                          id=\"password\"\r\n                          name=\"password\"\r\n                          placeholder=\"Пароль\"\r\n                          autoComplete=\"current-password\"\r\n                          onChange={this.handleChange} />\r\n                        {!!errors.password ?\r\n                          <div className=\"invalid-feedback\">\r\n                            {errors.password}\r\n                          </div> : ''}\r\n                          {/* <InputGroupAddon addonType=\"append\"> */}\r\n                          {/* <Button onClick={this.passwordVisible}>\r\n                            <i className={classnames( visible? 'fa fa-eye':'fa fa-eye-slash')}></i>\r\n                          </Button> */}\r\n                        {/* </InputGroupAddon> */}\r\n                      </InputGroup>\r\n                      <Row>\r\n                        <Col xs=\"6\">\r\n                          <Button color=\"success\" className=\"px-4\">Вхід</Button>\r\n                        </Col>\r\n                        <Col xs=\"6\" className=\"text-right\">\r\n                          <Button color=\"link\" className=\"px-0\">Забули пароль?</Button>\r\n                        </Col>\r\n                      </Row>\r\n                    </Form>\r\n                  </CardBody>\r\n                </Card>\r\n                <Card className=\"text-white py-5 d-md-down-none my-gradient\" style={{ width: '44%' }}>\r\n                  <CardBody className=\"text-center\">\r\n                    <div>\r\n                      <h2>Sign up</h2>\r\n                      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut\r\n                        labore et dolore magna aliqua.</p>\r\n                      <Link to=\"/register\">\r\n                        <Button color=\"success\" className=\"mt-3\" active tabIndex={-1}>Register Now!</Button>\r\n                      </Link>\r\n                    </div>\r\n                  </CardBody>\r\n                </Card>\r\n              </CardGroup>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLogin.propTypes =\r\n  {\r\n    login: PropTypes.func.isRequired\r\n  }\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    loading: get(state, 'login.post.loading'),\r\n    failed: get(state, 'login.post.failed'),\r\n    success: get(state, 'login.post.success'),\r\n    errors: get(state, 'login.post.errors')\r\n  }\r\n}\r\n\r\nconst mapDispatch = {\r\n  login: (model, history) => {\r\n      return loginActions.login(model, history);\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatch)(Login);\r\n"]},"metadata":{},"sourceType":"module"}